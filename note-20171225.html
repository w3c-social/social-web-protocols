<!DOCTYPE html><html dir="ltr" typeof="bibo:Document " prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#" lang="en"><head><meta charset="utf-8"><meta name="generator" content="ReSpec 19.0.1"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title , div.ednote-title, div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title, div.ednote-title { color: #2b2; }
div.warning-title { color: #f22; }
div.issue-title span, div.note-title span, div.ednote-title span, div.warning-title span {
    text-transform: uppercase;
}
div.note, div.issue, div.ednote, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .ednote > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
.issue, .note, .ednote, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note , div.ednote,  div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.ednote, span.issue, span.warning { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note, .ednote {
    border-color: #52e052;
    background: #e9fbe9;
}

.warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}

li.task-list-item {
    list-style: none;
}

input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
}
</style><meta property="dc:language" content="en" lang="">
    <title>Social Web Protocols</title>
    
    
    
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 {
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #C83500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}

table.th90 th {
  height: 140px;
  white-space: nowrap;
  transform: 
    rotate(-90deg);
  max-width: 4em;
}
table.th90 th, table.th90 td {
  text-align: center;
}
</style><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->


<style id="respec-mainstyle">/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* Override code highlighter background */
.hljs {
  background: transparent !important;
}

/* --- INLINES --- */
h1 abbr,
h2 abbr,
h3 abbr,
h4 abbr,
h5 abbr,
h6 abbr,
a abbr {
  border: none;
}

dfn {
  font-weight: bold;
}

a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
}

a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
}

a.bibref {
  text-decoration: none;
}

cite .bibref {
  font-style: normal;
}

code {
  color: #c83500;
}

th code {
  color: inherit;
}

/* --- TOC --- */

.toc a,
.tof a {
  text-decoration: none;
}

a .secno,
a .figno {
  color: #000;
}

ul.tof,
ol.tof {
  list-style: none outside none;
}

.caption {
  margin-top: 0.5em;
  font-style: italic;
}

/* --- TABLE --- */

table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
}

.simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
}

.simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
}

.simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
  background: #f0f6ff;
}

/* --- DL --- */

.section dd > p:first-child {
  margin-top: 0;
}

.section dd > p:last-child {
  margin-bottom: 0;
}

.section dd {
  margin-bottom: 1em;
}

.section dl.attrs dd,
.section dl.eldef dd {
  margin-bottom: 0;
}

#issue-summary > ul,
.respec-dfn-list {
  column-count: 2;
}

#issue-summary li,
.respec-dfn-list li {
  list-style: none;
}

details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
}

details.respec-tests-details > * {
  padding-right: 2em;
}

details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: .3em;
  background-color: white;
  padding-bottom: .5em;
}

details.respec-tests-details[open] > summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
}

details.respec-tests-details > ul {
  width: 100%;
  margin-top: -0.3em;
}

details.respec-tests-details > li {
  padding-left: 1em;
}

@media print {
  .removeOnSave {
    display: none;
  }
}
</style><style>/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style>
<link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE"/>
<link rel="canonical" href="https://www.w3.org/TR/social-web-protocols/"><script id="initialUserConfig" type="application/json">{
  "specStatus": "NOTE",
  "shortName": "social-web-protocols",
  "otherLinks": [
    {
      "key": "Repository",
      "data": [
        {
          "value": "Git repository",
          "href": "https://github.com/w3c-social/social-web-protocols"
        },
        {
          "value": "Issues",
          "href": "https://github.com/w3c-social/social-web-protocols/issues"
        },
        {
          "value": "Commits",
          "href": "https://github.com/w3c-social/social-web-protocols/gh-pages"
        }
      ]
    }
  ],
  "editors": [
    {
      "name": "Amy Guy",
      "url": "http://rhiaro.co.uk/",
      "company": "University of Edinburgh",
      "companyURL": "http://inf.ed.ac.uk/",
      "mailto": "amy@rhiaro.co.uk",
      "w3cid": "69000"
    }
  ],
  "previousMaturity": "ED",
  "previousPublishDate": "2017-05-04",
  "edDraftURI": "https://w3c-social.github.io/social-web-protocols",
  "wg": "Social Web Working Group",
  "wgURI": "https://www.w3.org/Social/WG",
  "wgPublicList": "public-socialweb",
  "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/72531/status",
  "localBiblio": {
    "AS1": {
      "title": "JSON Activity Streams 1.0.",
      "href": "http://activitystrea.ms/specs/json/1.0/",
      "authors": [
        "J. Snell",
        "M. Atkins",
        "W. Norris",
        "C. Messina",
        "M. Wilkinson",
        "R. Dolin"
      ],
      "status": "Unofficial",
      "publisher": "http://activitystrea.ms"
    },
    "microformats2": {
      "title": "Microformats2",
      "href": "https://microformats.org/wiki/microformats2",
      "authors": [
        "Tantek Çelik"
      ],
      "status": "Living specification",
      "publisher": "https://microformats.org"
    },
    "IndieAuth": {
      "title": "IndieAuth",
      "href": "https://www.w3.org/TR/indieauth",
      "authors": [
        "Aaron Parecki"
      ],
      "status": "Note",
      "publisher": "W3C"
    },
    "Accept-Post": {
      "title": "The Accept-Post HTTP Header.",
      "href": "http://tools.ietf.org/html/draft-wilde-accept-post",
      "authors": [
        "J. Arwe",
        "S. Speicher",
        "E. Wilde"
      ],
      "status": "Internet Draft",
      "publisher": "IETF"
    }
  },
  "publishISODate": "2017-12-25T00:00:00.000Z",
  "generatedSubtitle": "Working Group Note 25 December 2017"
}</script></head>
<body aria-busy="false" class="h-entry"><div class="head">
    <p>
      <a class="logo" href="https://www.w3.org/"><img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" width="72" height="48"></a>
    </p>
  <p><!--_hyper: 44445091;--></p>
  <h1 class="title p-name" id="title">Social Web Protocols</h1>
  <h2 id="w3c-working-group-note-25-december-2017"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note <time class="dt-published" datetime="2017-12-25">25 December 2017</time></h2>
  <dl>
      <dt>This version:</dt>
      <dd><a class="u-url" href="https://www.w3.org/TR/2017/NOTE-social-web-protocols-20171225/">https://www.w3.org/TR/2017/NOTE-social-web-protocols-20171225/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="https://www.w3.org/TR/social-web-protocols/">https://www.w3.org/TR/social-web-protocols/</a></dd>
      <dt>Latest editor's draft:</dt>
      <dd><a href="https://w3c-social.github.io/social-web-protocols">https://w3c-social.github.io/social-web-protocols</a></dd>
      <dt>Previous version:</dt>
      <dd><a href="https://www.w3.org/TR/2017/ED-social-web-protocols-20170504/">https://www.w3.org/TR/2017/ED-social-web-protocols-20170504/</a></dd>
    <dt>Editor:</dt>
    <dd class="p-author h-card vcard" data-editor-id="69000"><a class="u-url url p-name fn" href="http://rhiaro.co.uk/">Amy Guy</a>, <a class="p-org org h-org h-card" href="http://inf.ed.ac.uk/">University of Edinburgh</a>, <span class="ed_mailto"><a class="u-email email" href="mailto:amy@rhiaro.co.uk">amy@rhiaro.co.uk</a></span></dd>

          <dt>Repository:</dt>
                  <dd>
                    <a href="https://github.com/w3c-social/social-web-protocols">
                      Git repository
                    </a>
                  </dd>
                  <dd>
                    <a href="https://github.com/w3c-social/social-web-protocols/issues">
                      Issues
                    </a>
                  </dd>
                  <dd>
                    <a href="https://github.com/w3c-social/social-web-protocols/gh-pages">
                      Commits
                    </a>
                  </dd>
  </dl>
      <p class="copyright">
        <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2017
        
        <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a>
        rules apply.
      </p>
  <hr title="Separator for header">
</div>
  <section id="abstract" class="introductory"><h2 id="abstract-0">Abstract</h2>
    The Social Web Protocols are a collection of standards which enable various aspects of decentralised social interaction on the Web. This document describes the purposes of each, and how they fit together.
  </section>
  <section id="sotd" class="introductory"><h2 id="status-of-this-document">Status of This Document</h2>
      <p>
        <em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em>
      </p>
        
        <p>
          This document was published by the <a href="https://www.w3.org/Social/WG">Social Web Working Group</a> as a Working Group Note.
            Comments regarding this document are welcome. Please send them to
            <a href="mailto:public-socialweb@w3.org">public-socialweb@w3.org</a>
            (<a href="mailto:public-socialweb-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="https://lists.w3.org/Archives/Public/public-socialweb/">archives</a>).
        </p>
          <p>
            Publication as a Working Group Note does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
            Membership. This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other than work in
            progress.
          </p>
        <p>
            This document was produced by
            a group
             operating under the
            <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/72531/status" rel="disclosure">public list of any patent
              disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual knowledge of a patent
            which the individual believes contains
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        </p>
          <p>This document is governed by the <a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">1 March 2017 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
          </p>
        

</section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>Introduction</a></li><li class="tocline"><a href="#overview" class="tocxref"><span class="secno">2. </span>Overview</a><ol class="toc"><li class="tocline"><a href="#contents" class="tocxref"><span class="secno">2.1 </span>Contents</a></li><li class="tocline"><a href="#definitions" class="tocxref"><span class="secno">2.2 </span>Definitions</a></li><li class="tocline"><a href="#swwg-specs" class="tocxref"><span class="secno">2.3 </span>Specifications</a><ol class="toc"><li class="tocline"><a href="#requirements" class="tocxref"><span class="secno">2.3.1 </span>Requirements</a></li><li class="tocline"><a href="#how-do-the-specs-relate-to-each-other" class="tocxref"><span class="secno">2.3.2 </span>How do these specifications relate to each other?</a></li></ol></li></ol></li><li class="tocline"><a href="#reading" class="tocxref"><span class="secno">3. </span>Reading</a><ol class="toc"><li class="tocline"><a href="#content-representation" class="tocxref"><span class="secno">3.1 </span>Content representation</a><ol class="toc"><li class="tocline"><a href="#content-other" class="tocxref"><span class="secno">3.1.1 </span>Other ways of representing content</a></li></ol></li><li class="tocline"><a href="#objects" class="tocxref"><span class="secno">3.2 </span>Objects</a></li><li class="tocline"><a href="#collections" class="tocxref"><span class="secno">3.3 </span>Collections</a><ol class="toc"><li class="tocline"><a href="#streams-special" class="tocxref"><span class="secno">3.3.1 </span>Special streams</a></li><li class="tocline"><a href="#inbox-interop" class="tocxref"><span class="secno">3.3.2 </span>Inboxes</a></li></ol></li></ol></li><li class="tocline"><a href="#publishing" class="tocxref"><span class="secno">4. </span>Publishing</a><ol class="toc"><li class="tocline"><a href="#creating" class="tocxref"><span class="secno">4.1 </span>Creating</a></li><li class="tocline"><a href="#updating" class="tocxref"><span class="secno">4.2 </span>Updating</a></li><li class="tocline"><a href="#deleting" class="tocxref"><span class="secno">4.3 </span>Deleting</a></li></ol></li><li class="tocline"><a href="#subscribing" class="tocxref"><span class="secno">5. </span>Subscribing</a><ol class="toc"><li class="tocline"><a href="#subscribing-with-follow" class="tocxref"><span class="secno">5.1 </span>Subscribing with <code>as:Follow</code></a></li><li class="tocline"><a href="#subscribing-hub" class="tocxref"><span class="secno">5.2 </span>Subscribing with a hub</a></li></ol></li><li class="tocline"><a href="#delivery" class="tocxref"><span class="secno">6. </span>Delivery</a><ol class="toc"><li class="tocline"><a href="#targeting-and-discovery" class="tocxref"><span class="secno">6.1 </span>Targeting and discovery</a></li><li class="tocline"><a href="#delivery-generic" class="tocxref"><span class="secno">6.2 </span>Generic notifications</a></li><li class="tocline"><a href="#delivery-activities" class="tocxref"><span class="secno">6.3 </span>Activity notifications</a></li><li class="tocline"><a href="#delivery-mentioning" class="tocxref"><span class="secno">6.4 </span>Mentioning</a><ol class="toc"><li class="tocline"><a href="#webmention-updates" class="tocxref"><span class="secno">6.4.1 </span>Updates and deletes</a></li></ol></li><li class="tocline"><a href="#delivery-interop" class="tocxref"><span class="secno">6.5 </span>Delivery interop</a><ol class="toc"><li class="tocline"><a href="#wm-as-as" class="tocxref"><span class="secno">6.5.1 </span>Webmention as AS2 / ActivityPub</a></li><li class="tocline"><a href="#ldn-to-wm" class="tocxref"><span class="secno">6.5.2 </span>LDN to Webmention</a></li><li class="tocline"><a href="#wm-to-ldn" class="tocxref"><span class="secno">6.5.3 </span>Webmention to LDN</a></li></ol></li></ol></li><li class="tocline"><a href="#profiles" class="tocxref"><span class="secno">7. </span>Profiles</a><ol class="toc"><li class="tocline"><a href="#relationships" class="tocxref"><span class="secno">7.1 </span>Relationships</a></li><li class="tocline"><a href="#auth" class="tocxref"><span class="secno">7.2 </span>Authentication, authorization, and access control</a></li></ol></li><li class="tocline"><a href="#related-specs" class="tocxref"><span class="secno">8. </span>Related specifcations</a></li><li class="tocline"><a href="#change-log" class="tocxref"><span class="secno">A. </span>Change Log</a><ol class="toc"><li class="tocline"><a href="#changes-since-2017-05-04" class="tocxref"><span class="secno">A.1 </span>Changes from 4 May 2017 WD to this version</a></li><li class="tocline"><a href="#changes-since-2016-11-16" class="tocxref"><span class="secno">A.2 </span>Changes from 16 November 2016 WD to this version</a></li><li class="tocline"><a href="#changes-since-2016-11-01" class="tocxref"><span class="secno">A.3 </span>Changes from 1 November 2016 WD to this version</a></li><li class="tocline"><a href="#changes-since-2016-10-12" class="tocxref"><span class="secno">A.4 </span>Changes from 12 October 2016 WD to this version</a></li><li class="tocline"><a href="#changes-since-2016-08-23" class="tocxref"><span class="secno">A.5 </span>Changes from 23 August to 12 October 2016</a></li><li class="tocline"><a href="#changes-since-2016-06-03" class="tocxref"><span class="secno">A.6 </span>Changes from 3 June to 23 August 2016</a></li></ol></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">B. </span>References</a><ol class="toc"><li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">B.1 </span>Informative references</a></li></ol></li></ol></nav>

  <section id="introduction">
    <!--OddPage--><h2 id="x1-introduction"><span class="secno">1. </span>Introduction</h2>
    <p>The <abbr title="World Wide Web Consortium">W3C</abbr> Social Web Working Group ran from June 2014 to December 2017, published seven recommendations and some notes. This is one of the notes, and it describes the work at the time of the group closing.</p>
    <p>This work is by no means done, and the various communities involved have by no means gone to sleep. The endeavour continues in the <a href="https://www.w3.org/wiki/SocialCG">Social Web Community Group</a>, in which you are warmly invited to particiate.</p>
  </section>

  <section id="overview">
    <!--OddPage--><h2 id="x2-overview"><span class="secno">2. </span>Overview</h2>

    <p>People and the content they create are the core components of the social web; they make up the social graph. This document describes a standard way in which people can:</p>
    
    <ul>
      <li>create, update and delete social content;</li>
      <li>connect with other people by subscribing to their content;</li>
      <li>interact with other peoples' content;</li>
      <li>be notified when other people interact with their content.</li>
    </ul>
    
    <p>regardless of <em>what that content</em> is or <em>where it is stored</em>.</p>
    
    <p>These components are core building blocks for interoperable decentralised social systems.</p>
    
    <p>Each of these components can be implemented independently as needed, or all together in one system, as well as extended to meet domain-specific requirements. Users can store their social data across any number of compliant servers, and use compliant clients hosted elsewhere to interact with their own content and the content of others.</p>

    <p>The <a href="https://www.w3.org/2013/socialweb/social-wg-charter">Social Web Working Group Charter</a> proposes the following deliverables, which have been met by the Group, and will be referred to throughout this document:</p>

    <dl>
      <dt>Social Data Syntax</dt>
      <dd>A JSON-based syntax to allow the transfer of social information, such as status updates, across differing social systems.</dd>

      <dt>Social API</dt>
      <dd>A document that defines a specification for a client-side API that lets developers embed and format third party information such as social status updates.</dd>

      <dt>Federation Protocol</dt>
      <dd>A Web protocol to allow the federation of activity-based status updates and other data (such as profile information) between heterogeneous Web-based social systems. Federation should include multiple servers sharing updates within a client-server architecture, and allow decentralized social systems to be built.</dd>
    </dl>

    <section id="contents">
      <h3 id="x2-1-contents"><span class="secno">2.1 </span>Contents</h3>
    
      <p>This is an overview of the specifications of the Social Web Working Group.</p>
      
      <p>Due to the diversity of viable technical approaches proposed within the Working Group, several specifications reached recommendation which provide overlapping functionality through differing mechanisms. This document exists to provide informative guidance on how and when to implement the various specifications, as well as some hints towards routes to bridging between similar specifications.</p>

    </section>

    <section id="definitions">
      <h3 id="x2-2-definitions"><span class="secno">2.2 </span>Definitions</h3>

      <p>This document is divided into five sections, pertaining to the components above, and derived from the <a href="https://www.w3.org/wiki/Socialwg/Social_API/Requirements">Social API Requirements</a>. The various Social Web Working Group specifications implement different combinations of these requirements (see <a href="#requirements" class="sec-ref"><span class="secno">2.3.1</span> <span class="sec-title">Requirements</span></a>) so for clarity the requirement are defined here.</p>

      <dl>
        <dt><a href="#reading">reading</a></dt>
        <dd>covers specifications which describe the syntax and vocabulary to be used for social content. Useful for applications which expose feeds, as well as those which consume them.</dd>
        <dt>publishing</dt>
        <dd>covers Social API specifications which tell clients how to instruct servers to <a href="#publishing">create</a>, <a href="#updating">update</a> or <a href="#deleting">delete</a> content.</dd>
        <dt><a href="#subscribing">subscribing</a></dt>
        <dd>covers Federation Protocol specifications which describe how to ask for notifications about content, and subsequently how those notifications should be delivered.</dd>
        <dt><a href="#delivery">delivery</a></dt>
        <dd>covers Federation Protocol specifications which describe how to deliver notifications which have not been solicited through subscription.</dd>
        <dt><a href="#profiles">profiles</a></dt>
        <dd>covers specifications which describe profiles.</dd>
      </dl>
      
    </section>
    
    <section id="swwg-specs">
      <h3 id="x2-3-specifications"><span class="secno">2.3 </span>Specifications</h3>

      <p>These are the specifications produced by the Social Web Working Group. New implementation reports and feedback are always welcome (details for where to submit these are at the top of each document).</p>

      <dl>

        <dt>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</dt>
        <dd>JSON(-LD)-based APIs for client-to-server interactions (ie. publishing) and server-to-server interactions (ie. federation).</dd>

        <dt>ActivityStreams 2.0 [<cite><a class="bibref" href="#bib-activitystreams-core">activitystreams-core</a></cite>] and [<cite><a class="bibref" href="#bib-activitystreams-vocabulary">activitystreams-vocabulary</a></cite>]</dt>
        <dd>The syntax and vocabulary for <a href="#reading">representing</a> social activities, actors, objects, and collections in JSON(-LD).</dd>
        
        <dt>Linked Data Notifications ([<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>])</dt>
        <dd>A JSON-LD-based protocol for <a href="#delivery">delivery</a>.</dd>

        <dt>[<cite><a class="bibref" href="#bib-Micropub">Micropub</a></cite>]</dt>
        <dd>A form-encoding and JSON-based API for client-to-server interactions (ie. publishing).</dd>

        <dt>[<cite><a class="bibref" href="#bib-Webmention">Webmention</a></cite>]</dt>
        <dd>A form-encoding-based protocol for <a href="#delivery">delivery</a>.</dd>
        
        <dt>[<cite><a class="bibref" href="#bib-WebSub">WebSub</a></cite>]</dt>
        <dd>A protocol for <a href="#subscribing">subscription</a> to any resource and <a href="#delivery">delivery</a> of updates about it.</dd>

      </dl>

      <p>Specifications which are not Social Web Working Group recommendations, but which are nonetheless relevent to the charter deliverables, are described in <a href="#related-specs" class="sec-ref"><span class="secno">8.</span> <span class="sec-title">Related specifcations</span></a>.</p>

      <section id="requirements">
        <h4 id="x2-3-1-requirements"><span class="secno">2.3.1 </span>Requirements</h4>
        <p>This table shows the high level requirements according to the <a href="https://www.w3.org/2013/socialweb/social-wg-charter.html">Social Web Working Group charter</a> and the <a href="https://www.w3.org/wiki/Socialwg/Social_API/Requirements">Social API Requirements</a>, and how the specifications of the Working Group overlap with respect to each.</p>
        <p>This table lists the requirements met by the core functionality of each specification. Some specifications may additionally touch on or make suggestions about other requirements, which can be useful when deciding how to combine specifications, and is highlighted as appropriate throughout this document.</p>
        <table class="th90">
          <tbody><tr>
            <td></td>
            <td colspan="3">Data syntax</td>
            <td colspan="4">Social API</td>
            <td colspan="2">Federation Protocol</td>
            <td></td>
          </tr>
          <tr>
            <th></th>
            <th><a href="#content-representation">Vocabulary</a></th>
            <th><a href="#content-representation">Syntax</a></th>
            <th><a href="#profiles">Profiles</a></th>
            <th><a href="#reading">Read</a></th>
            <th><a href="#publishing">Create</a></th>
            <th><a href="#updating">Update</a></th>
            <th><a href="#deleting">Delete</a></th>
            <th><a href="#subscribing">Subscription</a></th>
            <th><a href="#delivery">Delivery</a></th>
          </tr>
          <tr>
            <td style="text-align:left;">ActivityPub</td>
            <td></td>
            <td></td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
          </tr>
          <tr>
            <td style="text-align:left;">ActivityStreams 2.0</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          
          <tr>
            <td style="text-align:left;">Linked Data Notifications</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>X</td>
          </tr>
          <tr>
            <td style="text-align:left;">Micropub</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td></td>
            <td></td>
          </tr>
          
          <tr>
            <td style="text-align:left;">Webmention</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>X</td>
          </tr>
          <tr>
            <td style="text-align:left;">WebSub<br></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>X</td>
            <td></td>
          </tr>

        </tbody></table>
      </section>

      <section id="how-do-the-specs-relate-to-each-other">
        <h4 id="x2-3-2-how-do-these-specifications-relate-to-each-other"><span class="secno">2.3.2 </span>How do these specifications relate to each other?</h4>
        <p>As a quick reference, some key relationships between specifications are as follows:</p>
        <ul>
          <li><strong>ActivityPub and ActivityStreams 2.0</strong>: ActivityPub uses the AS2 syntax and vocabulary for the payload of all requests.</li>
          <li><strong>ActivityPub and Linked Data Notifications</strong>: ActivityPub specialises LDN as the mechanism for delivery of notifications by requiring that payloads are AS2. <em>Inbox</em> endpoint discovery is the same. LDN receivers can understand requests from ActivityPub federated servers, but ActivityPub servers can't necessarily understand requests from generic LDN senders.</li>
          <li><strong>ActivityStreams 2.0 and Linked Data Notifications</strong>: LDN <em class="rfc2119" title="MAY">MAY</em> use the AS2 syntax and vocabulary for the payload of notification requests.</li>
          <li><strong>Webmention and Linked Data Notifications</strong>: Overlapping functionality that needs to be bridged due to different content types of requests. An LDN request <em class="rfc2119" title="MAY">MAY</em> contain the equivalent data as a Webmention request, but not necessarily vice versa.</li>
          <li><strong>ActivityPub and Micropub</strong>: Overlapping functionality that needs to be bridged due to different vocabularies and possibly different content types of requests. Micropub specifies client-to-server interactions for content creation; ActivityPub specifies this, <em>plus</em> side-effects and server-to-server interactions.</li>
          <li><strong>Micropub and Webmention</strong>: Are complementary but independent. Content can be created with Micropub, then Webmentions can be sent to any URLs referenced by the content.</li>
          <li><strong>Micropub and Linked Data Notifications</strong>: Are complementary but independent. Content can be created with Micropub, then LDN discovery can be commenced on any relevant resources referenced by the content.</li>
          <li><strong>Micropub and WebSub</strong>: Are complementary but independent. Content can be created with Micropub, then a WebSub <em>hub</em> can handle delivery to subscribers.</li>
          <li><strong>ActivityPub and WebSub</strong>: Overlapping functionality using different content types and verification mechanisms.</li>
        </ul>
      </section>
    </section>
  </section>

  <section id="reading">
  <!--OddPage--><h2 id="x3-reading"><span class="secno">3. </span>Reading</h2>

    <p>If you are a content publisher, this section is about how you should publish your content. If you are a content consumer, this is what you should expect to consume.</p>

    <section id="content-representation">
      <h3 id="x3-1-content-representation"><span class="secno">3.1 </span>Content representation</h3>

      <p><strong>ActivityStreams 2.0</strong> is the recommended syntax ([<cite><a class="bibref" href="#bib-activitystreams-core">activitystreams-core</a></cite>]) and vocabulary ([<cite><a class="bibref" href="#bib-activitystreams-vocabulary">activitystreams-vocabulary</a></cite>]) for social data. ActivityStreams 2.0 represents content and interactions as <em>Objects</em> and <em>Activities</em>. The ActivityStreams vocabulary defines a finite set of common Object and Activity types and properties, as well as an extension mechanism for applications which want to expand on or specialise these.</p>

      <p>ActivityStreams 2.0 content is served with the Content-Type <code>application/activity+json</code> or for JSON-LD extended implementations, <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>. Consumers should recognise both of these Content-Types as ActivityStreams 2.0; <span title="after much wringing of hands and gnashing of teeth, the WG decided that">they should be treated as equivalent</span>.</p>

      <p>In order to claim ActivityStreams 2.0 conformance, a data publisher must use ActivityStreams 2.0 vocabulary terms where available, and <em>only</em> use other vocabularies <em>in addition</em>, or where no appropriate ActivityStreams 2.0 term exists.</p>

      <div class="note"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span><span style="text-transform: none">: ActivityStreams 1.0</span></div><p class="">ActivityStreams 2.0 builds upon [<cite><a class="bibref" href="#bib-AS1">AS1</a></cite>] and is not fully backwards compatible; <a href="http://www.w3.org/TR/activitystreams-core#activitystreams-1.0">the relationship between AS1 and AS2 is documented in the AS2 spec</a>. If you have implemented [<cite><a class="bibref" href="#bib-AS1">AS1</a></cite>], you should transition to ActivityStreams 2.0.</p></div>

      <p>To make content available as ActivityStreams 2.0 JSON, one could do so directly when requested with an appropriate <code>Accept</code> header (eg. <code>application/activity+json</code> or <code>application/ld+json</code>), or indirectly via a <code>rel="alternate" type="application/activity+json"</code> link . This link could be to a different domain, for third-party services which dynamically generate ActivityStreams 2.0 JSON on behalf of a publisher.</p>

      <div class="note"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span><span style="text-transform: none">: JSON-LD</span></div><div class="">
        <p>When sent as JSON-LD, ActivityStreams 2.0 must be <a href="https://json-ld.org/spec/latest/json-ld-api/#compaction">compacted</a>, and must not use the <code>@graph</code> keyword. This is because an ActivityStreams 2.0 document requires a single <code>Object</code> as the root. To serve multiple resources, you can instead nest them.</p>
        <p>The <a href="https://www.w3.org/ns/activitystreams#">ActivityStreams 2.0 JSON-LD context</a> (https://www.w3.org/ns/activitystreams#) aliases <code>@id</code> and <code>@type</code> to <code>id</code> and <code>type</code> respectively.</p>
      </div></div>
      
      <p><strong>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</strong> uses ActivityStreams 2.0 for all data, and also <em>extends</em> ActivityStreams 2.0 with additional terms. Thus, ActivityPub requires responses to have the Content-Type <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>. Publishers are however expected to also respect requests with the <code>application/activity+json</code> Accept header.</p>


      <section id="content-other">
        <h4 id="x3-1-1-other-ways-of-representing-content"><span class="secno">3.1.1 </span>Other ways of representing content</h4>

        <p>If you don't like ActivityStreams 2.0, there are still some specifications you can use for particular tasks.</p>

        <p><strong>[<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>]</strong> notification contents can use any vocabulary, so long as the data is available as JSON-LD. Thus notifications <em class="rfc2119" title="MAY">MAY</em> use ActivityStreams 2.0, but don't have to.</p>
      
        <p><strong>[<cite><a class="bibref" href="#bib-Micropub">Micropub</a></cite>]</strong> clients which expect to read data (this would usually be clients for <em><a href="#updating">updating</a></em>) are expecting it as JSON in the parsed microformats2 syntax ([<cite><a class="bibref" href="#bib-microformats2-parsing">microformats2-parsing</a></cite>]).</p>

        <p><strong>[<cite><a class="bibref" href="#bib-WebSub">WebSub</a></cite>]</strong> is agnostic as to the Content-Type used by publishers; hubs are expected to deliver the new content to subscribers as-is produced by the publisher, at the publisher's <code>topic</code> URL.</p>

      </section>

    </section>
    <section id="objects">
      <h3 id="x3-2-objects"><span class="secno">3.2 </span>Objects</h3>
    
      <p>All ActivityStreams 2.0 objects have URLs in the <code>id</code> property, which return the properties of an object. The response may vary depending on the requester's right to access the content.</p>
    </section>
    <section id="collections">
      <h3 id="x3-3-collections"><span class="secno">3.3 </span>Collections</h3>
    
      <p>Each ActivityStreams 2.0 collection has a URL in the <code>id</code> property which returns the contents of the stream (according to the requester's right to access). This could be paged - ActivityStreams 2.0 provides <a href="https://www.w3.org/TR/activitystreams-core/#paging">a paging mechanism</a>. It may include additional metadata about the stream (such as title, description).</p>
      
      <p>Each <a href="#objects">object</a> in a collection contains at least its URL (<code>id</code>), as well as optionally other properties of the object.</p>
      
      <p>Collections may represent changing streams of objects, or fixed sets. One <a href="#profiles">profile</a> may be associated with one or more streams of content. Streams may be generated automatically or manually, and might be segregated by post type, topic, audience, or any arbitrary criteria decided by the curator of the stream. A profile may include links to multiple streams, which a consumer could follow to read or subscribe to.</p>

      <section id="streams-special">
        <h4 id="x3-3-1-special-streams"><span class="secno">3.3.1 </span>Special streams</h4>
      
        <p><strong>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</strong> specifies two streams that <em class="rfc2119" title="MUST">MUST</em> be accessible from a profile via the following properties:</p>

        <ul>
          <li><code>inbox</code>: A reference to an ActivityStreams 2.0 collection comprising all the objects received by the actor.</li>
          <li><code>outbox</code>: An ActivityStreams 2.0 collection comprising all the objects produced by the actor.</li>
        </ul>

        <p>ActivityPub also specifies further properties for accessing additional streams; <code>following</code> and <code>followers</code> are expected, and the rest are optional:</p>

        <ul>
          <li><code>following</code>: An ActivityStreams 2.0 collection of the actors that this actor is following.</li>
          <li><code>followers</code>: An ActivityStreams 2.0 collection of the actors that follow this actor
          </li><li><code>liked</code>: An ActivityStreams 2.0 collection of every <code>object</code> from all of the actor's <code>Like</code> activities (generated automatically by the server).</li>
          <li><code>streams</code>: A list of supplementary Collections which may be of interest. </li>
          <li><code>preferredUsername</code></li>
          <li><code>endpoints</code>: A mapping of additional (typically server/domain-wide) endpoints which may be useful either for this actor or someone referencing this actor: 
            <code>proxyUrl</code>, <code>oauthAuthorizationEndpoint</code>, <code>oauthTokenEndpoint</code>, <code>provideClientKey</code>, <code>signClientKey</code>, <code>sharedInbox</code>.</li>
          <li>and any other applicable ActivityStreams 2.0 properties.</li>
        </ul>
      
        <p>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>] permits arbitrary collections to be created through specifying special behavior for the server when it receives activities with types <code>Add</code> and <code>Remove</code>. When a server receives such an activity in the <code>outbox</code>, and the <code>target</code> is a <code>Collection</code>, it adds the <code>object</code> to the <code>target</code> (for <code>Add</code>) or removes the <code>object</code> from the <code>target</code> (for <code>Remove</code>).</p>
      </section>

      <section id="inbox-interop">
        <h4 id="x3-3-2-inboxes"><span class="secno">3.3.2 </span>Inboxes</h4>
        <p>An Inbox is an endpoint to which new objects may be <a href="#delivery">delivered</a>. It also serves as a collection whose contents may be read. The Inbox endpoint is used by both ActivityPub and LDN, and can be discovered through the properties:
        </p><ul>
          <li><code>ldp:inbox</code> (<code>http://www.w3.org/ns/ldp#inbox</code>)</li>
          <li><code>as:inbox</code> (<code>https://www.w3.org/ns/activitystreams#inbox</code>)</li>
        </ul>
        <p>In terms of JSON-LD, the latter is an alias of the former.</p>

        <p>For how and when to <em>write</em> to an Inbox, see <a href="#delivery">delivery</a>.</p>
          
        <p>The contents of this collection may also be read. While ActivityPub and LDN align for <em>writing</em> to an Inbox, due to irritating but ultimately unavoidable compatibility requirements with AS2 and LDP respectively, they use different vocabularies when Inbox contents are returned for <em>reading</em>. Fortunately for consuming clients to check for both vocabularies or for publishers to publish using both is not a huge implementation hurdle, so bridging is fairly trivial.</p>
        <ul>
          <li>ActivityPub Inboxes are an ActivityStreams 2.0 <code>OrderedCollection</code>, and link to their contents with the <code>items</code> property.</li>
          <li>LDN Inboxes are an [<cite><a class="bibref" href="#bib-LDP">LDP</a></cite>] <code>Container</code> (providing an explicit type is optional), and link to their contents with the <code>contains</code> property.</li>
        </ul>

        <p>In addition, ActivityPub has more constraints on the format of the JSON-LD returned. The two lists to follow describe how to bridge the small differences between ActivityPub and LDN conformant Inboxes.</p>
      
        <p><strong>ActivityPub servers</strong> wishing to be read by LDN consumers:</p>
        <ul>
          <li>must return alongside the <code>items</code> for everything in the collection, an <code>ldp:contains</code> (<code>http://www.w3.org/ns/ldp#contains</code>) relation.</li>
        </ul>

        <p><strong>ActivityPub clients</strong> wishing to read from LDN Inboxes:</p>
        <ul>
          <li>must request content with the content-type <code>application/ld+json</code>. Running it through JSON-LD compaction should help to format the respone in a more friendly way.</li>
          <li>must look for items in the Inbox via the <code>ldp:contains</code> property (rather than AS2 <code>items</code>).</li>
          <li>should not expect any of the items to have their properties nested; will probably need to retrieve individual items from the URLs in the <code>@id</code> property.</li>
          <li>Note the possibility of multiple vocabularies within the items in the Inbox themselves, including potentially a complete absence of any AS2.</li>
        </ul>

        <p><strong>LDN receivers</strong> wishing to be readable by ActivityPub consuming clients:</p>
        <ul>
          <li>must treat the content-type <code>application/activity+json</code> as equivalent to <code>application/ld+json; profile="http://www.w3.org/ns/activitystreams"</code>.</li>
          <li>serve Inbox contents as an AS2 <code>Collection</code>, where each notification is related to the inbox with the AS2 <code>items</code> property.</li>
          <li>must return compacted JSON-LD, and no <code>@graph</code>, serving the Inbox collection as the root of the document.</li>
          <li>may make life easier by nesting additional properties of each resource in the Inbox.</li>
        </ul>

        <p><strong>LDN consumers</strong> wishing to read from Inboxes on ActivityPub servers:</p>
        <ul>
          <li>must, if content is returned with the content-type <code>application/activity+json</code> and missing an <code>@context</code>, apply the default AS2 context, and treat it as JSON-LD.</li>
          <li>must look for items in the Inbox via the AS2 <code>items</code> property (rather than <code>ldp:contains</code>).</li>
        </ul>
      </section>

    </section>
  </section>

  <section id="publishing">
    <!--OddPage--><h2 id="x4-publishing"><span class="secno">4. </span>Publishing</h2>

    <p>Publishing in this context refers to modifying the outgoing feed associated with a particular profile. This incorporates creating new content, as well as updating or deleting existing content. Content generated through a client (such as a web form, mobile app, sensor, smart device) is created when it is sent to a server for processing, where it is typically stored and usually published (either publicly or to a restricted audience), in human- and/or machine-readable forms. Clients and servers may independently support creating, updating and deleting; there are no dependencies between them.</p>

    <div class="note"><div role="heading" class="note-title marker" id="h-note-1" aria-level="3"><span>Note</span><span style="text-transform: none">: Other kinds of publishing</span></div><p class="">
      While delivering notifications or responding to subscription requests may trigger creating (or updating or deleting) something on the receiving end, the intent is different. These cases are called out as side effects in subscription and delivery where appropriate.
    </p></div>

    <p>For notes about authentication and authorization between clients and servers, see <a href="#auth" class="sec-ref"><span class="secno">7.2</span> <span class="sec-title">Authentication, authorization, and access control</span></a></p>

    <p>The two specifications recommended by the Social Web Working Group for publishing are [<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>] and [<cite><a class="bibref" href="#bib-Micropub">Micropub</a></cite>]. They use similar high level mechanisms, but differ in requirements around both the vocabularies and content types of data. </p>
    <p>ActivityPub contains a client-to-server API for creating ActivityStreams 2.0 objects and activities, and specifies additional responsibilities for clients around addressing objects, and for servers around the side-effects of certain types of objects. </p>
    <p>Micropub provides a basic client-to-server API for creating blog-post-type content and is intended as a quickstart for content creation, on top of which more complex (but optional) actions can be layered. Micropub also provides a media endpoint for uploading files.</p>

    <div class="note"><div role="heading" class="note-title marker" id="h-note-2" aria-level="3"><span>Note</span><span style="text-transform: none">: REST</span></div><div class="">
      <p>Neither ActivityPub nor Micropub define APIs for publishing based on HTTP verbs. If you're looking for something more RESTful, you may like the Linked Data Platform [<cite><a class="bibref" href="#bib-LDP">LDP</a></cite>].</p>
    </div></div>

    <section id="creating">
      <h3 id="x4-1-creating"><span class="secno">4.1 </span>Creating</h3>

      <p>The publishing endpoint of <strong>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</strong> is the <code>outbox</code>. Clients are assumed to have the URL of a (ideally authenticated) profile as a starting point, and discover the value of the <code>https://www.w3.org/ns/activitystreams#outbox</code> property found at the profile URL (which should be available as JSON). The client then makes an HTTP <code>POST</code> request with an ActivityStreams 2.0 activity or object as a JSON payload with a content type of <code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code>. The URL of the created resource is generated at the discretion of the server, and returned in the <code>Location</code> HTTP header. This is an appropriate protocol to use when:</p>

      <ul>
        <li>You want to send/receive a JSON or JSON-LD payload.</li>
        <li>Your data is described with [<cite><a class="bibref" href="#bib-activitystreams-core">activitystreams-core</a></cite>] and [<cite><a class="bibref" href="#bib-activitystreams-vocabulary">activitystreams-vocabulary</a></cite>] (optionally extensible via JSON-LD).</li>
        <li>You want servers to carry out a known set of actions upon content creation.</li>
      </ul>

      <p>Side-effects of creating content with ActivityPub are for the most part adding things to various different collections collections (likes, follows, etc); but also include requirements about blocking users, and a hook to enable federated servers.</p> 

      <p>The publishing endpoint for <strong>[<cite><a class="bibref" href="#bib-Micropub">Micropub</a></cite>]</strong> is the <code>micropub</code> endpoint. Clients discover this from a profile URL via a <code>rel="micropub"</code> link (in an HTTP <code>Link</code> header, or an HTML <code>&lt;link&gt;</code> element). Clients make a <code>x-www-form-urlencoded</code> POST request containing the key-value pairs for the attributes of the object being created. The URL of the created resource is generated at the discretion of the server, and returned in the <code>Location</code> HTTP header. Clients and servers must support attributes from the Microformats2 [<cite><a class="bibref" href="#bib-h-entry">h-entry</a></cite>] vocabulary. Micropub also defines four reserved attributes (<code>access_token</code>, <code>h</code>, <code>action</code> and <code>url</code>) as well as reserves any attribute prefixed with <code>mp-</code>; these are used as commands to the server. Any additional key names sent outside of these vocabularies <em>may</em> be ignored by the server.</p>

      <p>Micropub requests may alternatively be sent as a JSON payload, the syntax of which is derived from [<cite><a class="bibref" href="#bib-microformats2-parsing">microformats2-parsing</a></cite>].</p>

      <p>This is an appropriate protocol to use when:</p>

      <ul>
        <li>You want to send/receive a form-encoded or JSON payload.</li>
        <li>Your data is described with the [<cite><a class="bibref" href="#bib-h-entry">h-entry</a></cite>] syntax and vocabulary.</li>
        <li>You can rely on out-of-band agreements between clients and servers for vocabulary extensibility.</li>
      </ul>

    </section>

    <section id="updating">
      <h3 id="x4-2-updating"><span class="secno">4.2 </span>Updating</h3>
      
      <p>Content is updated when a client sends changes to attributes (additions, removals, replacements) to an existing object.</p>

      <p><strong>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</strong> clients send an HTTP <code>POST</code> request to the <code>outbox</code> containing an ActivityStreams 2.0 <code>Update</code> activity. The <code>object</code> of the activity is an existing object, including its <code>id</code>, and the fields to update should be nested. If a partial representation of an object is sent, omitted fields are <em>not</em> deleted by the server. In order to delete specific fields, the client can assign them a <code>null</code> value. </p>

      <p>In the case of ActivityPub federated servers, updates should be propagated to the <code>inbox</code>es of recipients of the original objects. However, when a federated server passes an <code>Update</code> activity to another server's <em><code>inbox</code></em>, the recipient must assume this is the <em>complete</em> object to be replaced; partial updates are not performed server-to-server.</p>

      <p>An <code>Undo</code> with the <code>object</code> of the previous <code>Update</code> can be used to revert changes.</p>

      <p><strong>[<cite><a class="bibref" href="#bib-Micropub">Micropub</a></cite>]</strong> clients perform updates as JSON POST requests, using the <code>"action": "update"</code> directive, as well as a <code>replace</code>, <code>add</code> or <code>delete</code> property containing the updates to make, to the Micropub endpoint. <code>replace</code> replaces all values of the specified property; if the property does not exist already, it is created. <code>add</code> adds new values to the specified property without changing the existing ones; if the property does not exist already, it is created. <code>delete</code> removes the specified property; you can also remove properties by value by specifying the value.</p>

      <p>If a server also implements [<cite><a class="bibref" href="#bib-Webmention">Webmention</a></cite>] it should propagate the updates to anyone who received Webmentions for the original.</p>

      <p>If a server also implements [<cite><a class="bibref" href="#bib-WebSub">WebSub</a></cite>], and the updated resource is part of a <code>topic</code>, the server should notify the hub of an update to the topic URL.</p>
      

    </section>
    <section id="deleting">
      <h3 id="x4-3-deleting"><span class="secno">4.3 </span>Deleting</h3>
      
      <p>Content is deleted when a client sends a request to delete an existing object.</p>

      <p><strong>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</strong> clients delete an object by sending an HTTP POST request containing an ActivityStreams 2.0 <code>Delete</code> activity to the <code>outbox</code> of the authenticated user. Servers must either <em>replace</em> the <code>object</code> of this activity with a tombstone and return a <code>410 Gone</code> status code, or return a <code>404 Not Found</code>, from its URL.</p>

      <p>An <code>Undo</code> with the <code>object</code> of the previous <code>Delete</code> may be used to restore the object.</p>

      <p><strong>[<cite><a class="bibref" href="#bib-Micropub">Micropub</a></cite>]</strong> delete requests are two key-value pairs, JSON: <code>"action": "delete"</code> and <code>"url": url-to-be-deleted</code>, sent to the Micropub endpoint. Posts may be resotred with <code>"action": "undelete"</code>.</p>

      <p>As with <a href="#updating">updating</a>, servers implementing ActivityPub federation, Webmention or WebSub should propagate deletes accordingly.</p>
      
  </section>
</section>
  <section id="subscribing">
    <!--OddPage--><h2 id="x5-subscribing"><span class="secno">5. </span>Subscribing</h2>

    <p>An agent (client or server) may <em>ask</em> to be notified of changes to a content object (eg. edits, new replies) or stream of content (eg. objects added or removed from a particular stream). This is <em>subscribing</em>. Specifications which contain subscription mechanisms are ActivityPub and WebSub.</p>

    <div class="note"><div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>Note</span><span style="text-transform: none">: Subscription vs delivery</span></div><p class="">Receiving notifications does not need to rely on implementation of a subscription mechanism. That is, implementations may set themselves up to receive notifications without always being required to explicitly ask for them from a sender or publisher: see <a href="#delivery">delivery</a>.</p></div>

    <section id="subscribing-with-follow">

      <h3 id="x5-1-subscribing-with-as-follow"><span class="secno">5.1 </span>Subscribing with <code>as:Follow</code></h3>
      
      <p><strong>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</strong> servers maintain a <em>Followers</em> collection for all users. This collection may be directly addressed, or addressed automatically or by default, in the <code>to</code>, <code>cc</code> or <code>bcc</code> field of any Activity. As a result, federated servers <a href="#delivery">deliver</a> the Activity to the <code>inbox</code> of each profile in the collection.</p>
      
      <p>Subscription requests are essentially requests to be added to this collection. They are made by the subscriber's server <code>POST</code>ing a <code>Follow</code> Activity to the target's <code>inbox</code>. This request should be authenticated, and therefore doesn't need additional verification. The target server then should add the subscriber to the target's Followers collection. Exceptions may be made if, for example, the target has blocked the subscriber.</p>

      <p>This is a suitable subscription mechanism when:</p>

      <ul>
        <li>The subscriber wants to request updates from a specific profile's <code>outbox</code> (rather than objects, streams, feeds, collections, conversation threads).</li>
        <li>The subscriber and publisher both speak ActivityStreams 2.0.</li>
        <li>The publisher is aware of who has subscribed, and capable of delivering content to subscribers itself.</li>
      </ul>

      <p>Since delivery is only a requirement for federated servers, prospective subscribers will not be able to <code>POST</code> their <code>Follow</code> activity to the <code>inbox</code> of a profile which is on a non-federated server (expect a <code>405 Method Not Allowed</code>), and thus are not able to subscribe to these profiles. In this case, prospective subscribers may wish to periodically <em>pull</em> from the publisher's <code>outbox</code> instead.</p>

    </section>

    <section id="subscribing-hub">
      
      <h3 id="x5-2-subscribing-with-a-hub"><span class="secno">5.2 </span>Subscribing with a hub</h3>
      
      <p><strong>[<cite><a class="bibref" href="#bib-WebSub">WebSub</a></cite>]</strong> provides a mechanism to delegate subscription handling and delivery of content to subscribers to a third-party, called a <em>hub</em>. All publishers need to do is link to their chosen hub(s) using HTTP <code>Link</code> headers or HTML <code>&lt;link&gt; </code> elements with <code>rel="hub"</code>, and then notify the hub when new content is available. The mechanism for notifying the hub is left deliberately unspecified, as publishers may have their own built in hub, and therefore use an internal mechanism.</p>
      
      <div class="note"><div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>Note</span><span style="text-transform: none">: Notifying the hub</span></div><div class="">
        <p>A mechanism for communcation between publishers and hubs may be standardised in future as an extension.</p>
      </div></div>

      <p>The subscriber discovers the hub from the publisher, and sends a form-encoded <code>POST</code> request containing values for <code>hub.mode</code> ("subscribe"), <code>hub.topic</code> (the URL to subscribe to) and <code>hub.callback</code> (the URL where updates should be sent to, which should be 'unguessable' and unique per subscription). The hub and subscriber carry out a series of exchanges to verify this request.</p>

      <p>When the hub is notified of new content by the publisher, the hub fetches the content of the <code>topic</code> URL, and sends this to the subscriber's <code>callback</code> URL via a POST request. The body of the request is the content of the topic URL, and the <code>Content-Type</code> must match. A <code>rel=hub</code> <code>Link</code> header should be included.</p>

      <p>This is a suitable subscription mechanism when:</p>

      <ul>
        <li>The subscriber wants to request updates from any resource (not just user profiles), and of any content type.</li>
        <li>Subscription requests are not authenticated, so you need a way to verify them.</li>
        <li>The publisher wants to delegate distribution of updates to another service (the hub) instead of doing it itself.</li>
      </ul>

      <div class="note"><div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>Note</span><span style="text-transform: none">: WebSub and LDN</span></div><div class="">
        <p>LDN Receivers can be used to receive deliveries from WebSub hubs by using the <code>inbox</code> URL as the <code>hub.callback</code> URL and <em>either</em> only subscribing to resources published as JSON-LD <em>or</em> accepting content-types other than JSON-LD.</p>
      </div></div>
    </section>
    
  </section>
 
  <section id="delivery">
    <!--OddPage--><h2 id="x6-delivery"><span class="secno">6. </span>Delivery</h2>
    
    <p>A user or application may wish to push a notification to another user that the receiver has <em>not explicitly asked</em> for. For example to send a message or some new information; because they have linked to (replied, liked, bookmarked, reposted, etc) their content; because they have linked to (tagged, addressed) the user directly; to make the recipient aware of a change in state of some document or resource on the Web. The Social Web Working Group specifications contain several mechanisms for carrying out delivery; they are listed here from general to specialised.</p>

    <div class="note"><div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>Note</span><span style="text-transform: none">: Delivery vs subscription</span></div><p class="">We need to leave it open for users to refuse content they have <em>not</em> explicitly <a href="#subscribing">subscribed</a> to, ie. nothing else should rely on implementation of delivery.</p></div>

    <section id="targeting-and-discovery">
      <h3 id="x6-1-targeting-and-discovery"><span class="secno">6.1 </span>Targeting and discovery</h3>
      <p>The target of a notification is usually the addressee or the subject, as referenced by a URL. The target may also a resource which has previously requested notifications through a <a href="#subscribing">subscription</a> request. Once you have determined your target, you need to discover where to send the notification for that particular target. Discovery is fetching the target URL and looking for a link to an endpoint which will accept the type of notification you want to send (read on, for all of your exciting options).</p>
      <p>Bear in mind that many potential targets will <em>not</em> be configured to receive notifications at all. To avoid overloading unsuspecting servers with discovery-related requests, your application should employ a "back-off" strategy when carrying out discovery multiple times to targets on the same domin. This could involve increasing the period of time between subsequent requests, or caching unsuccessful discovery attempts so those domains can be avoided in future. You may wish to send a <code>User-Agent</code> header with a reference to the notification mechanism you are using so that recipient servers can find out more about the purpose of your requests.</p>
      <p>Your application should also respect relevant cache control and retry headers returned by the target server.</p>
    </section>

    <section id="delivery-generic">
      <h3 id="x6-2-generic-notifications"><span class="secno">6.2 </span>Generic notifications</h3>
      <p><strong>[<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>]</strong> is a federation protocol for sending, receiving and consuming notifications which may contain any content, and be triggered by any person or process. Senders, receivers and consumers can all be on different domains. This is a suitable notification mechanism when:</p>

      <ul>
        <li>Notifications need to be identifiable with their own URLs and exposed by the receiver for other applications to discover and re-use.</li>
        <li>Notifications are represented as a JSON-LD payload (ie. a 'fat ping').</li>
        <li>You need to advertise constraints on the type or contents of notifications accepted by a receiver.</li>
      </ul>

      <p>[<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>] functionality is divided between <em>senders</em>, <em>receivers</em> and <em>consumers</em>. The endpoint to which notifications are sent is the <code>inbox</code>. Any resource (a user profile, blog post, document) can advertise its <code>inbox</code> so that it may be discovered through an HTTP <code>Link</code> header or the document body in any RDF syntax (including JSON-LD or HTML+RDFa). To this Inbox, senders make a <code>POST</code> request containing the JSON-LD (or other RDF syntax per [<cite><a class="bibref" href="#bib-Accept-Post">Accept-Post</a></cite>] negotation with the receiver) payload of the notification. The receiver returns a URL from which the notification data can be retrieved, and also adds this URL to a list which is returned upon a <code>GET</code> request to the Inbox (see <a href="#reading" class="sec-ref"><span class="secno">3.</span> <span class="sec-title">Reading</span></a>). Consumers can retrieve this Inbox listing, and from there the individual notifications, as JSON-LD (optionally content negotiated to another RDF syntax). An obvious type of consumer is a script which displays notifications in a human-readable way.</p>

      <div class="note"><div role="heading" class="note-title marker" id="h-note-7" aria-level="4"><span>Note</span><span style="text-transform: none">: LDP compatibility</span></div><div class="">
        <p>An existing [<cite><a class="bibref" href="#bib-LDP">LDP</a></cite>] implementation can serve as an [<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>] receiver out of the box; publishers simply advertise any <code>ldp:Container</code> as the <code>inbox</code> for a resource.</p>
      </div></div>

      <p>The payload of notifications is deliberately left open so that LDN may be used in a wide variety of use cases. However, receivers with particular purposes are likely to want to constrain the types of notifications they accept. They can do this transparently (such that senders are able to attempt to conform, rather than having their requests rejected opaquely) by advertising data shapes constraints such as [<cite><a class="bibref" href="#bib-SHACL">SHACL</a></cite>]. Advertisement of such constraints also allows consumers to understand the types of notifications in the Inbox before attempting to retrieve them. Receivers may reject notifications on the basis of internal, undisclosed constraints, and may also access control the Inbox for example by requiring an <code>Authorization</code> header from both senders and consumers.</p>

      <p><strong>[<cite><a class="bibref" href="#bib-WebSub">WebSub</a></cite>]</strong> <em>publishers</em> deliver content to their <em>hub</em>, and <em>hubs</em> to their <em>subscribers</em> using HTTP <code>POST</code> requests. The body of the request is left to the discretion of the sender in the first case, and in the latter case must match the Content-Type of and contain contents from the <code>topic</code> URL.</p>
    </section>

    <section id="delivery-activities">
      <h3 id="x6-3-activity-notifications"><span class="secno">6.3 </span>Activity notifications</h3>
      <p><strong>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>]</strong> uses [<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>] to send notifications with some specific constraints. These are:</p>

      <ul>
        <li>The notification payload <em class="rfc2119" title="MUST">MUST</em> be a single ActivityStreams 2.0 Activity.</li>
        <li>The notification payload <em class="rfc2119" title="MUST">MUST</em> be compact JSON-LD.</li>
        <li>The receiver <em class="rfc2119" title="MUST">MUST</em> verify the notification by fetching its source from the origin server.</li>
        <li>All notification <code>POST</code> requests are authenticated.</li>
      </ul>

      <p>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>] specifies how to define the <em>target(s)</em> to which a notification is to be sent (a pre-requisite to [<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>] sending), via the [<cite><a class="bibref" href="#bib-activitystreams-vocabulary">activitystreams-vocabulary</a></cite>] audience targeting and object linking properties.</p>

      <p>[<cite><a class="bibref" href="#bib-Activitypub">Activitypub</a></cite>] also defines side-effects that must be carried out by the server as a result of notification receipt. These include:</p>

      <ul>
        <li>Creating, updating or deleting new objects upon receipt of <code>Create</code>, <code>Update</code> and <code>Delete</code> activities.</li>
        <li>Reversing the side-effects of prior activities upon receipt of the <code>Undo</code> activity.</li>
        <li>Updating specialised collections for <code>Follow</code>, <code>Like</code> and <code>Block</code> activities.</li>
        <li>Updating any other collections upon receipt of <code>Add</code> and <code>Remove</code> activities.</li>
        <li>Carrying out further delivery to propagate activities through the network in the case of federated servers.</li>
      </ul>

      <div class="note"><div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>Note</span><span style="text-transform: none">: The inbox property</span></div><div class="">
        <p>ActivityPub actor profiles are linked to their inboxes via the <code>https://www.w3.org/ns/activitystreams#inbox</code> property. This is an <em>alias</em> (in the AS2 JSON-LD context) for LDN's <code>http://www.w3.org/ns/ldp#inbox</code>. Applications using a full JSON-LD processor to parse these documents will see these terms as one and the same. Applications doing naive string matching on terms may wish to note that if you find an <code>ldp:inbox</code> it will accept <code>POST</code> requests in the same way as an <code>as:inbox</code>.</p>
      </div></div>

    </section>

    <section id="delivery-mentioning">
      <h3 id="x6-4-mentioning"><span class="secno">6.4 </span>Mentioning</h3>
      <p><strong>[<cite><a class="bibref" href="#bib-Webmention">Webmention</a></cite>]</strong> provides an API for sending and receiving notifications when a relationship is created (or updated, or deleted) between two documents. A webmention sender is triggered by the creation (or modification) of content which includes the URL of another document. It works when the two documents are on different domains, thus serving as a federation protocol. This is a suitable notification mechanism when:</p>

      <ul>
        <li>You have a document (source) which contains the URL of another document (target).</li>
        <li>The owner of the endpoint has access to view the source (so the request can be verified).</li>
        <li>The only data you need to send over the wire are the URLs of the source and target documents (ie. a 'thin ping').</li>
      </ul>

      <p>There are no constraints on the syntax of the source and target documents. Discovery of the [<cite><a class="bibref" href="#bib-Webmention">Webmention</a></cite>] endpoint (a script which can process incoming webmentions) is through a link relation (<code>rel="webmention"</code>), either in the HTTP <code>Link</code> header or HTML body of the target. This endpoint does not need to be on the same domain as the target, so webmention receiving can be delegated to a third party.</p>

      <p>Webmentions are verified by the server dereferencing the source and parsing it to check for the existence of the target URL. If the target URL isn't found, the webmention <em class="rfc2119" title="MUST">MUST</em> be rejected.</p>

      <p>Webmention uses <code>x-www-form-urlencoded</code> for the source and target as parameters in an HTTP POST request. Beyond verification, it is not specified what the receiver should do upon receipt of a Webmention. What the webmention endpoint should return on a <code>GET</code> request is also left unspecified.</p>

      <section id="webmention-updates">

        <h4 id="x6-4-1-updates-and-deletes"><span class="secno">6.4.1 </span>Updates and deletes</h4>

        <p>In practice, Webmention receivers tend to fetch and store the webmention source. It is often displayed, for example as a reply underneath the target blog post.</p>

        <p>If a Webmention is received and this is the first time this <code>source</code> and <code>target</code> combination has been seen by the receiver, this indicates a relationship between the <code>source</code> and <code>target</code> has been created. If the receiver has seen these values before, the receiver can fetch and parse the <code>source</code> to determine what has changed; either the content of the <code>source</code> has been updated (in which case the receiver can update local copies of the content, if it stored them in the first place), or the entire source has been deleted (expect a <code>410 Gone</code> response).</p>

      </section>

    </section>

    <section id="delivery-interop">
      <h3 id="x6-5-delivery-interop"><span class="secno">6.5 </span>Delivery interop</h3>

      <p>This section describes how implementations of Webmention, ActivityPub and LDN may create bridging code in order to send and receive notifications from the others.</p>

      <section id="wm-as-as">
        <h4 id="x6-5-1-webmention-as-as2-activitypub"><span class="secno">6.5.1 </span>Webmention as AS2 / ActivityPub</h4>

        <p>A webmention may be represented as a persistent resource with the ActivityStreams 2.0 vocabulary. This could come in handy if a <strong>Webmention sender</strong> <em>mentions</em> a user known to be running an ActivityPub federated server, and wants a generic (ie. not ActivityPub specific) way of notifying about this. In this case, the sender can use an AS2 payload and deliver the notification per <a href="#wm-to-ldn" class="sec-ref"><span class="secno">6.5.3</span> <span class="sec-title">Webmention to LDN</span></a>.</p>

        <div class="example"><div class="example-title marker"><span>Example 1</span></div><pre class="hljs json" id="wm-as2" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams#"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Relationship"</span>,
  <span class="hljs-attr">"subject"</span>: <span class="hljs-string">"https://waterpigs.example/post-by-barnaby"</span>,
  <span class="hljs-attr">"object"</span>: <span class="hljs-string">"https://aaronpk.example/post-by-aaron"</span>
}</pre></div>

        <p>A receiver or sender may want to augment this representation with the relationship between the two documents, and any other pertinent data. In the receiver's case, this could be gathered when they parse the source during the verification process. For example:</p>

        <div class="example"><div class="example-title marker"><span>Example 2</span></div><pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/activitystreams#"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Relationship"</span>,
  <span class="hljs-attr">"subject"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://waterpigs.example/post-by-barnaby"</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Hi Aaron, great post."</span>
  },
  <span class="hljs-attr">"object"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://aaronpk.example/post-by-aaron"</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Aaron's first post."</span>
  },
  <span class="hljs-attr">"relationship"</span>: <span class="hljs-string">"inReplyTo"</span>
}</pre></div>
      </section>

      <section id="ldn-to-wm">
        <h4 id="x6-5-2-ldn-to-webmention"><span class="secno">6.5.2 </span>LDN to Webmention</h4>

        <p><strong>Webmention receivers</strong> wishing to also accept LDN <code>POST</code>s at their Webmention endpoint must:</p>
        <ul>
          <li>Advertise the webmention endpoint via <code>rel="http://www.w3.org/ns/ldp#inbox"</code> in addition to <code>rel="webmention"</code> (in the <code>Link</code> header, HTML body or JSON body of a target).</li>
          <li>Accept <code>POST</code> requests with the Content-Type <code>application/ld+json</code>. Expect the body of the request to be:
          <div class="example"><div class="example-title marker"><span>Example 3</span></div><pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"http://www.w3.org/ns/webmention#"</span>,
  <span class="hljs-attr">"@id"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-attr">"source"</span>: { <span class="hljs-attr">"@id"</span>: <span class="hljs-string">"https://waterpigs.example/post-by-barnaby"</span> },
  <span class="hljs-attr">"target"</span>: { <span class="hljs-attr">"@id"</span>: <span class="hljs-string">"https://aaronpk.example/post-by-aaron"</span> }
}</pre></div>
          Use the <code>source-&gt;@id</code> and <code>target-&gt;@id</code> values as the <code>source</code> and <code>target</code> of the Webmention, and proceed with verification.</li>
          <li>If returning a <code>201 Created</code>, it <em class="rfc2119" title="MUST">MUST</em> return a <code>Location</code> header with a URL from which the contents of the request posted can be retrieved. <code>202 Accepted</code> is still fine.</li>
          <li>Note than when verifying the source, there's a good chance you can request/parse it as RDF.</li>
        </ul>

        <p><strong>LDN senders</strong> wishing to send to Webmention endpoints basically just need to implement Webmention sending. The Webmention endpoint is at <code>rel="webmention"</code> (either in an HTTP <code>Link</code> header or HTML <code>&lt;link&gt;</code> element).</p>

        <p>Note that Webmention endpoints will only verify a received notification if the <code>source</code> is publicly retrievable and contains the URL of the <code>target</code>.</p>
      </section>

      <section id="wm-to-ldn">
        <h4 id="x6-5-3-webmention-to-ldn"><span class="secno">6.5.3 </span>Webmention to LDN</h4>

        <p><strong>LDN receivers</strong> wishing to also accept Webmentions to their Inbox <em class="rfc2119" title="MUST">MUST</em>:</p>
        <ul>
          <li>Advertise the Inbox via <code>rel="webmention"</code> in addition to <code>rel="http://www.w3.org/ns/ldp#inbox"</code> (in the <code>Link</code> header, HTML body or JSON body of a target).</li>
          <li>Accept <code>POST</code> requests with a content type <code>application/x-www-form-urlencoded</code>. Convert these requests from:
          <div class="example"><div class="example-title marker"><span>Example 4</span></div><pre class="hljs javascript" aria-busy="false" aria-live="polite">source=https:<span class="hljs-comment">//waterpigs.example/post-by-barnaby&amp;</span>
target=https:<span class="hljs-comment">//aaronpk.example/post-by-aaron</span></pre></div>
          to:
          <div class="example"><div class="example-title marker"><span>Example 5</span></div><pre class="hljs json" id="wm-json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"http://www.w3.org/ns/webmention#"</span>,
  <span class="hljs-attr">"@id"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-attr">"source"</span>: { <span class="hljs-attr">"@id"</span>: <span class="hljs-string">"https://waterpigs.example/post-by-barnaby"</span> },
  <span class="hljs-attr">"target"</span>: { <span class="hljs-attr">"@id"</span>: <span class="hljs-string">"https://aaronpk.example/post-by-aaron"</span> }
}</pre></div>
          and proceed per [<cite><a class="bibref" href="#bib-LDN">LDN</a></cite>]; receivers <em class="rfc2119" title="MAY">MAY</em> add other triples at their discretion.</li>
          <li>Receivers <em class="rfc2119" title="MUST">MUST</em> return a <code>201 Created</code> with a <code>Location</code> header or <code>202 Accepted</code>.</li>
          <li>Receivers <em class="rfc2119" title="MUST">MUST</em> verify the request by retrieving the source document and checking a link to the target document is present. If the Webmention is not verified, recievers <em class="rfc2119" title="MUST NOT">MUST NOT</em> keep it.</li>
        </ul>

        <p><strong>Webmention senders</strong> wishing to send to LDN Inboxes need to send a JSON-LD payload. Discover the Inbox endpoint through a relation of <code>http://www.w3.org/ns/ldp#inbox</code> between the <code>target</code> and the Inbox. A typical Webmention can be represented as JSON-LD per <a href="#wm-json">this example</a>, or as ActivityStreams 2.0 JSON per <a href="#wm-as2">this example</a>.</p>
      </section>

      <div class="note"><div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span><span style="text-transform: none">: Bridging services</span></div><p class="">
        Look out for Webmention-ActivityPub bridges <em>as services</em>. These will provide endpoints to do the heavy lifting of the spec you don't want to implement yourself. You can use these endpoints as your Webmention or Inbox endpoint respectively. Brainstorming and implementations of such bridges can be found on the <a href="https://www.w3.org/wiki/SocialCG">Social Web Community Group</a> and the <a href="https://indieweb.org/bridge#ActivityPub">IndieWeb community</a>.
      </p></div>

    </section>

    
  </section>
  
  <section id="profiles">
      <!--OddPage--><h2 id="x7-profiles"><span class="secno">7. </span>Profiles</h2>

      <p>The subject of a profile document can be a person, persona, organisation, bot, location, or other. None of the specifications described here prescribe particular relationships between real-world entities and online profiles. That is, one person can have many profiles, and one profile may be controlled by many people. How/if/when multiple profiles are linked together is implementation specific, and not specified anywhere here.</p>

      <p>Most specifications expect that profiles are identified by and retrieved from a URL, and that attributes of the subject of the profile are available from the URL. Ideally they also return a link to at least one stream of content associated with the profile (or embed the content directly), for example activities or blog posts.</p>

      <p><strong>ActivityPub</strong> profiles are JSON-LD documents containing any appropriate ActivityStreams 2.0 properties, as well as links to various endpoints and collections (see <a href="#streams-special" class="sec-ref"><span class="secno">3.3.1</span> <span class="sec-title">Special streams</span></a>).</p>

      <p><strong>ActivityStreams 2.0</strong> has various <a href="https://www.w3.org/TR/activitystreams-core/#actors">Actor types</a>, which may be used to represent individuals or groups, and also includes <code>Profile</code>.</p> 

      <p><strong>Micropub</strong> has a notion of a profile page (URL) that represents a user, but does not specify the format of that page, except for the link to the Micropub endpoint and authorization endpoints for clients to discover.</p>
      
      <p><strong>Webmention</strong> does not specify any particular profile format, but in practice Webmention implementations typically publish and consume [<cite><a class="bibref" href="#bib-h-card">h-card</a></cite>] profile information to display authors of webmention sources (see <a href="https://www.w3.org/TR/webmention/#webmention-verification-p-4">examples in the Webmention spec</a>).</p>

      <section id="relationships">
        <h3 id="x7-1-relationships"><span class="secno">7.1 </span>Relationships</h3>
      
        <p>Semantics and representation of personal relationships are implementation specific. These specifications deal with relationships only when distribution of content is affected, for example when 'following' triggers a subscription request from one server to another. Lists of other relationships may be discoverable from a user profile, should be represented according to the ActivityStreams 2.0 syntax and may (and are likely to) use extension vocabularies as needed.</p>
        
        <ul>
          <li><strong>ActivityPub:</strong> When a server receives a <code>Follow</code> Activity in its <code>inbox</code>, the subject is added to a <code>Followers</code> <code>Collection</code>, which is discoverable from the subject's profile. Federated servers use this collection to deliver updates when new content is created by the owner of the collection.</li>
        </ul>
      </section>
      
      <section id="auth">
        <h3 id="x7-2-authentication-authorization-and-access-control"><span class="secno">7.2 </span>Authentication, authorization, and access control</h3>
      
        <p>Authentication and authorization mechanisms were out of scope for the Social Web WG. Please follow the <a href="https://www.w3.org/wiki/SocialCG">Community Group</a> for development in this space. Meanwhile, some of the WG specifications contain non-normative notes on the topic:</p>
        
        <ul>
          <li><strong>ActivityPub:</strong> Points to a Community Group best practices report in <a href="https://www.w3.org/TR/activitypub/#authorization">B.1 Authentication and Authorization</a>.</li>
          <li><strong>LDN:</strong> Recommends that receivers employ some kind of verification mechanism which <em>may</em> be authentication in <a href="https://www.w3.org/TR/ldn/#sender-verification">3.3.3 Sender verification</a>, with additional security considerations in <a href="https://www.w3.org/TR/ldn/#authenticated-inboxes">5.6 Authenticated inboxes</a>.</li>
          <li><strong>Micropub:</strong> Requires bearer tokens, and suggests IndieAuth in <a href="https://www.w3.org/TR/micropub/#authentication-and-authorization">5. Authentication and Authorization</a>.</li>
          <li><strong>Webmention:</strong> Points to an extension for use with access controlled posts in <a href="https://www.w3.org/TR/webmention/#private-webmention">B.3 Private Webmention</a>.</li>
          <li><strong>WebSub:</strong> Describes optional use of HMAC Signatures in <a href="https://www.w3.org/TR/websub/#authenticated-content-distribution">8.1 Authenticated Content Distribution</a>.</li>
        </ul>
      </section>
    </section>

    <section id="related-specs">
      
      <!--OddPage--><h2 id="x8-related-specifcations"><span class="secno">8. </span>Related specifcations</h2>

      <p>Other specifications worth mentioning in relation to the output of the Social Web Working Group are outlined here.</p>

      <p>Social Web Working Group Notes:</p>

      <ul>
        <li><strong>[<cite><a class="bibref" href="#bib-post-type-discovery">post-type-discovery</a></cite>]</strong>: specifies an algorithm for determining the type of post by its properties. This may help with bridging between content marked up with [<cite><a class="bibref" href="#bib-microformats2">microformats2</a></cite>], and explicitly typed vocabularies like ActivityStreams 2.0.</li>

        <li><strong>[<cite><a class="bibref" href="#bib-IndieAuth">IndieAuth</a></cite>]</strong>: is an identity layer on top of OAuth 2, and the expected auth mechanism for Micropub clients.</li>
        
        <li><strong>[<cite><a class="bibref" href="#bib-JF2">JF2</a></cite>]</strong>: is an alternative JSON syntax for social content, derived from[<cite><a class="bibref" href="#bib-microformats2">microformats2</a></cite>]. It includes individual objects and feeds. If you don't like ActivityStreams 2.0, you might like this instead. At the time of writing it is not referenced by any other Social Web Working Group specifications.</li> 
      </ul>

      <p>External:</p>

      <ul>
        <li><strong>[<cite><a class="bibref" href="#bib-LDP">LDP</a></cite>]</strong>: was an input to the Social Web Working Group charter. <code>Container</code>s on LDP servers can be used directly as LDN receivers, if you happen to have one lying around. The Web Annotation Protocol is also based on LDP.</li>

        <li><strong>[<cite><a class="bibref" href="#bib-microformats2">microformats2</a></cite>]</strong>: is a way to mark up structured information in HTML. Micropub expects the microformats2 vocabulary, and Webmention receiver implementations often look for microformats2 markup to fetch more information about a source.</li>

        <li><strong>[[Web Annotation Protocol]]</strong>: uses ActivityStreams 2.0 Collections and Paging to model sets of annotations. Annotations themselves use the [[Annotation Vocabulary]].</li>
      </ul>

      <p>Development of related specifications is ongoing in various communities, notably the <a href="https://www.w3.org/wiki/SocialCG">Social Web Community Group</a> and the <a href="https://indieweb.org">IndieWeb</a> community.</p>

    </section>

    <section id="change-log" class="appendix information">
      <!--OddPage--><h2 id="a-change-log"><span class="secno">A. </span>Change Log</h2>

      <section id="changes-since-2017-05-04">
      <h3 id="a-1-changes-from-4-may-2017-wd-to-this-version"><span class="secno">A.1 </span>Changes from 4 May 2017 WD to this version</h3>
      <ul>
        <li>Editorial updates throughout.</li>
        <li>Update all spec functionality which had fallen behind (mostly Micropub).</li>
        <li>Add requirements definitions to clarify the sections each spec is listed under, and their relation to charter deliverables.</li>
        <li>Clarify relevence of Federation Protocols to Social API parts (ie. updates triggering new notifications etc).</li>
        <li>Elaborate on Updates and Deletes for AP and Webmention.</li>
        <li>Profiles now describes each spec's use or expectations of profiles.</li>
        <li>Auth section now links to relevent parts of each individual spec.</li>
        <li>Add a section for related specs.</li>
      </ul>
      </section>

      <section id="changes-since-2016-11-16">
        <h3 id="a-2-changes-from-16-november-2016-wd-to-this-version"><span class="secno">A.2 </span>Changes from 16 November 2016 WD to this version</h3>
        <ul>
          <li>Update document status of progressing specs.</li>
          <li>s/PubSub/WebSub/</li>
          <li>Add list of relationships between specific specs to Overview.</li>
          <li>Update AP streams info.</li>
          <li>Bring contents of Reading up to date.</li>
          <li>Remove references to external specs that aren't explicitly mentioned in a SWWG spec.</li>
          <li>Capture Create/Update/Delete under Publish header.</li>
          <li>Clean up text in Publish.</li>
          <li>Update Delivery for each spec and make section headings based on function rather than spec names.</li>
          <li>Add WebSub detail for Subscription.</li>
        </ul>
      </section>
      <section id="changes-since-2016-11-01">
        <h3 id="a-3-changes-from-1-november-2016-wd-to-this-version"><span class="secno">A.3 </span>Changes from 1 November 2016 WD to this version</h3>
        <ul>
          <li>Update document status of recently published drafts.</li>
        </ul>
      </section>
      <section id="changes-since-2016-10-12">
        <h3 id="a-4-changes-from-12-october-2016-wd-to-this-version"><span class="secno">A.4 </span>Changes from 12 October 2016 WD to this version</h3>
        <ul>
          <li>Updated WebSub since it was published as FPWD.</li>
        </ul>
      </section>
      <section id="changes-since-2016-08-23">
        <h3 id="a-5-changes-from-23-august-to-12-october-2016"><span class="secno">A.5 </span>Changes from 23 August to 12 October 2016</h3>
        <ul>
          <li>Added targeting and discovery section, including "backoff" strategy advice.</li>
        </ul>
      </section>
      <section id="changes-since-2016-06-03">
        <h3 id="a-6-changes-from-3-june-to-23-august-2016"><span class="secno">A.6 </span>Changes from 3 June to 23 August 2016</h3>
        <ul>
          <li>Add new WG drafts as they were published by the group: JF2, PTD, LDN, PuSH.</li>
          <li>Update the publication statuses of existing WG drafts as they advanced.</li>
          <li>Describe LDN in Delivery and Reading.</li>
          <li>Describe PuSH in Subscribing and Delivery.</li>
          <li>Delivery interop: <ul>
            <li>how Webmention senders/receivers and LDN senders/receivers may implement a bridge.</li>
            <li>how a Webmention could be represented as an AS2 Relationship.</li>
          </ul></li>
          <li>Refactor Subscribing and Reading to prioritise WG specs and clarify relations between them.</li>
          <li>Editorial improvements to introductory and overview text.</li>
        </ul>
      </section>
    </section>

  

<section id="references" class="appendix"><!--OddPage--><h2 id="b-references"><span class="secno">B. </span>References</h2><section id="informative-references"><h3 id="b-1-informative-references"><span class="secno">B.1 </span>Informative references</h3><dl class="bibliography"><dt id="bib-Accept-Post">[Accept-Post]</dt><dd><a href="http://tools.ietf.org/html/draft-wilde-accept-post"><cite>The Accept-Post HTTP Header.</cite></a>. J. Arwe; S. Speicher; E. Wilde. IETF. Internet Draft. URL: <a href="http://tools.ietf.org/html/draft-wilde-accept-post">http://tools.ietf.org/html/draft-wilde-accept-post</a>
</dd><dt id="bib-Activitypub">[Activitypub]</dt><dd><a href="https://www.w3.org/TR/activitypub/"><cite>ActivityPub</cite></a>. Christopher Webber; Jessica Tallon. W3C. 5 December 2017. W3C Proposed Recommendation. URL: <a href="https://www.w3.org/TR/activitypub/">https://www.w3.org/TR/activitypub/</a>
</dd><dt id="bib-activitystreams-core">[activitystreams-core]</dt><dd><a href="https://www.w3.org/TR/activitystreams-core/"><cite>Activity Streams 2.0</cite></a>. James Snell; Evan Prodromou. W3C. 23 May 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/activitystreams-core/">https://www.w3.org/TR/activitystreams-core/</a>
</dd><dt id="bib-activitystreams-vocabulary">[activitystreams-vocabulary]</dt><dd><a href="https://www.w3.org/TR/activitystreams-vocabulary/"><cite>Activity Vocabulary</cite></a>. James Snell; Evan Prodromou. W3C. 23 May 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/activitystreams-vocabulary/">https://www.w3.org/TR/activitystreams-vocabulary/</a>
</dd><dt id="bib-AS1">[AS1]</dt><dd><a href="http://activitystrea.ms/specs/json/1.0/"><cite>JSON Activity Streams 1.0.</cite></a>. J. Snell; M. Atkins; W. Norris; C. Messina; M. Wilkinson; R. Dolin. http://activitystrea.ms. Unofficial. URL: <a href="http://activitystrea.ms/specs/json/1.0/">http://activitystrea.ms/specs/json/1.0/</a>
</dd><dt id="bib-h-card">[h-card]</dt><dd><a href="http://microformats.org/wiki/h-card"><cite>h-card</cite></a>. Tantek Çelik. microformats.org. Living Specification. URL: <a href="http://microformats.org/wiki/h-card">http://microformats.org/wiki/h-card</a>
</dd><dt id="bib-h-entry">[h-entry]</dt><dd><a href="http://microformats.org/wiki/h-entry"><cite>h-entry</cite></a>. Tantek Çelik. microformats.org. Living Specification. URL: <a href="http://microformats.org/wiki/h-entry">http://microformats.org/wiki/h-entry</a>
</dd><dt id="bib-IndieAuth">[IndieAuth]</dt><dd><a href="https://www.w3.org/TR/indieauth"><cite>IndieAuth</cite></a>. Aaron Parecki. W3C. Note. URL: <a href="https://www.w3.org/TR/indieauth">https://www.w3.org/TR/indieauth</a>
</dd><dt id="bib-JF2">[JF2]</dt><dd><a href="https://www.w3.org/TR/jf2/"><cite>JF2 Post Serialization Format</cite></a>. Benjamin Roberts. W3C. 26 October 2017. W3C Working Draft. URL: <a href="https://www.w3.org/TR/jf2/">https://www.w3.org/TR/jf2/</a>
</dd><dt id="bib-LDN">[LDN]</dt><dd><a href="https://www.w3.org/TR/ldn/"><cite>Linked Data Notifications</cite></a>. Sarven Capadisli; Amy Guy. W3C. 2 May 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/ldn/">https://www.w3.org/TR/ldn/</a>
</dd><dt id="bib-LDP">[LDP]</dt><dd><a href="https://www.w3.org/TR/ldp/"><cite>Linked Data Platform 1.0</cite></a>. Steve Speicher; John Arwe; Ashok Malhotra. W3C. 26 February 2015. W3C Recommendation. URL: <a href="https://www.w3.org/TR/ldp/">https://www.w3.org/TR/ldp/</a>
</dd><dt id="bib-microformats2">[microformats2]</dt><dd><a href="https://microformats.org/wiki/microformats2"><cite>Microformats2</cite></a>. Tantek Çelik. https://microformats.org. Living specification. URL: <a href="https://microformats.org/wiki/microformats2">https://microformats.org/wiki/microformats2</a>
</dd><dt id="bib-microformats2-parsing">[microformats2-parsing]</dt><dd><a href="http://microformats.org/wiki/microformats2-parsing"><cite>microformats2 parsing</cite></a>. Tantek Çelik. microformats.org. Living Specification. URL: <a href="http://microformats.org/wiki/microformats2-parsing">http://microformats.org/wiki/microformats2-parsing</a>
</dd><dt id="bib-Micropub">[Micropub]</dt><dd><a href="https://www.w3.org/TR/micropub/"><cite>Micropub</cite></a>. Aaron Parecki. W3C. 23 May 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/micropub/">https://www.w3.org/TR/micropub/</a>
</dd><dt id="bib-post-type-discovery">[post-type-discovery]</dt><dd><a href="https://www.w3.org/TR/post-type-discovery/"><cite>Post Type Discovery</cite></a>. Tantek Çelik. W3C. 1 August 2017. W3C Working Draft. URL: <a href="https://www.w3.org/TR/post-type-discovery/">https://www.w3.org/TR/post-type-discovery/</a>
</dd><dt id="bib-SHACL">[SHACL]</dt><dd><a href="https://www.w3.org/TR/shacl/"><cite>Shapes Constraint Language (SHACL)</cite></a>. Holger Knublauch; Dimitris Kontokostas. W3C. 20 July 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/shacl/">https://www.w3.org/TR/shacl/</a>
</dd><dt id="bib-Webmention">[Webmention]</dt><dd><a href="https://www.w3.org/TR/webmention/"><cite>Webmention</cite></a>. Aaron Parecki. W3C. 12 January 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/webmention/">https://www.w3.org/TR/webmention/</a>
</dd><dt id="bib-WebSub">[WebSub]</dt><dd><a href="https://www.w3.org/TR/websub/"><cite>WebSub</cite></a>. Julien Genestoux; Aaron Parecki. W3C. 3 October 2017. W3C Proposed Recommendation. URL: <a href="https://www.w3.org/TR/websub/">https://www.w3.org/TR/websub/</a>
</dd></dl></section></section><p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>